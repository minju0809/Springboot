<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

 <mapper namespace="com.springboot.springboot.project.board.BoardDao">

  <select id="getBoardList"
    parameterType="com.springboot.springboot.project.board.BoardVO"
    resultType="com.springboot.springboot.project.board.BoardVO">

    select * from board order by board_idx desc
  </select>

  <select id="getBoard"
    parameterType="com.springboot.springboot.project.board.BoardVO"
    resultType="com.springboot.springboot.project.board.BoardVO">

    select * from board where board_idx = #{board_idx}
  </select>

  <insert id="boardInsert"
    parameterType="com.springboot.springboot.project.board.BoardVO">

    insert into board
    (board_idx, member_idx, member_name, board_map, map_dot, board_title, board_content, board_imgStr) 
    values ((select nvl(max(board_idx), 90000) + 1 from board), #{member_idx}, #{member_name},
    #{board_map}, #{map_dot}, #{board_title}, #{board_content}, #{board_imgStr})
  </insert>

  <update id="boardCnt"
    parameterType="com.springboot.springboot.project.board.BoardVO">

    update board set board_cnt = board_cnt + 1 where board_idx = #{board_idx}
  </update>

 </mapper>

